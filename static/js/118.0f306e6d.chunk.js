"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[118],{2118:function(n,e,t){t.r(e),t.d(e,{default:function(){return I}});var r,a=t(7689),i=t(4554),s=t(3279),o=t(2791),c=t(9434),u=t(890),l=t(1889),m=t(168),d=t(225).Z.p(r||(r=(0,m.Z)(["\n  margin-top: 10px;\n  color: red;\n  font-size: 18px;\n  text-align: center;\n"]))),x=t(3329),f=function(n){var e=n.error;return(0,x.jsx)(d,{children:e})},h=t(403),p=t(1413),b=t(7639),v=t(6151),g={name:"",number:""},j={name:{type:"text",name:"name",required:!0,label:"Name"},number:{type:"tel",name:"number",required:!0,label:"Number"}},Z=function(n){var e=n.onSubmit,t=(0,s.c)({initialState:g,onSubmit:e}),r=t.state,a=t.handleChange,o=t.handleSubmit,c=r.name,u=r.number;return(0,x.jsxs)(i.Z,{component:"form",onSubmit:o,sx:{display:"flex",flexDirection:"column"},children:[(0,x.jsx)(b.Z,(0,p.Z)({pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:c,onChange:a,margin:"normal"},j.name)),(0,x.jsx)(b.Z,(0,p.Z)({pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:u,onChange:a,margin:"normal"},j.number)),(0,x.jsx)(v.Z,{variant:"contained",type:"submit",children:"Add contact"})]})},C=t(493),y=t(4852),w=function(n){var e=n.id,t=n.name,r=n.number,a=n.onDelete;return(0,x.jsxs)(y.ZP,{sx:{display:"flex",justifyContent:"space-between",pt:0},children:[(0,x.jsxs)(u.Z,{children:[t,": ",r]}),(0,x.jsx)(v.Z,{sx:{ml:2},variant:"outlined",onClick:function(){return a(e)},type:"button",children:"Delete"})]})},A=function(n){var e=n.contacts,t=n.onDelete;return(0,x.jsx)(C.Z,{children:e.map((function(n){var e=n.id,r=n.name,a=n.number;return(0,x.jsx)(w,{id:e,name:r,number:a,onDelete:t},e)}))})};A.defaultProps={contacts:[]};var S=A,k=function(n){var e=n.value,t=n.onChange;return(0,x.jsx)(b.Z,{sx:{width:"100%"},label:"Find contacts by name",onChange:t,value:e,type:"text"})},z=t(1391),D=function(n){return n.contacts.items},P=function(n){return n.contacts.isLoading},F=function(n){return n.contacts.error},L=function(n){var e=n.contacts,t=n.filter.toLowerCase();return e.items.filter((function(n){return n.name.toLowerCase().includes(t)}))},_=t(5653),N=function(n){return n.filter},q=function(){var n=(0,c.v9)(D),e=(0,c.v9)(L),t=(0,c.v9)(N),r=(0,c.v9)(P),a=(0,c.v9)(F),i=(0,c.I0)();(0,o.useEffect)((function(){i((0,z.yF)())}),[i]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.Z,{variant:"h1",sx:{textAlign:"center",fontSize:"3rem",mb:4},children:"Phonebook"}),(0,x.jsxs)(l.ZP,{container:!0,sx:{flexDirection:{xs:"column",sm:"row"},gap:{xs:6,md:12}},children:[(0,x.jsxs)(l.ZP,{item:!0,xs:!0,children:[(0,x.jsx)(u.Z,{sx:{textAlign:"center",fontSize:"2rem"},variant:"h2",children:"Add Contacts"}),(0,x.jsx)(Z,{onSubmit:function(e){var t=e.name;if(n.find((function(n){return n.name===t})))return alert("".concat(t," is already in contacts"));i((0,z.uK)(e))}})]}),(0,x.jsxs)(l.ZP,{item:!0,xs:12,sm:6,sx:{alignSelf:{xs:"center",sm:"auto"}},children:[(0,x.jsx)(u.Z,{sx:{textAlign:"center",fontSize:"2rem",mb:2},variant:"h2",children:"Contacts"}),(0,x.jsx)(k,{value:t,onChange:function(n){return i((0,_.T)(n.target.value))}}),n.length>0&&(0,x.jsx)(S,{contacts:e,onDelete:function(n){i((0,z.GK)(n))}})]})]}),r&&(0,x.jsx)(h.Z,{}),a&&(0,x.jsx)(f,{error:a})]})},I=function(){var n=(0,s.a)(),e=n.isLoggedIn,t=n.isRefreshing;return!e&&!t?(0,x.jsx)(a.Fg,{to:"/login"}):(0,x.jsx)(i.Z,{sx:{height:"100%",pt:15},children:(0,x.jsx)(q,{})})}}}]);
//# sourceMappingURL=118.0f306e6d.chunk.js.map