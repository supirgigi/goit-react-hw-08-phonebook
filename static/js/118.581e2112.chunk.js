"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[118],{2118:function(n,e,t){t.r(e),t.d(e,{default:function(){return K}});var r,a=t(7689),i=t(4554),s=t(6032),o=t(2791),c=t(9434),u=t(890),l=t(1889),m=t(168),d=t(225).Z.p(r||(r=(0,m.Z)(["\n  margin-top: 10px;\n  color: red;\n  font-size: 18px;\n  text-align: center;\n"]))),x=t(3329),f=function(n){var e=n.error;return(0,x.jsx)(d,{children:e})},h=t(403),v=t(1413),b=t(7639),p=t(6151),Z=t(158),g={name:"",number:""},j={name:{type:"text",name:"name",required:!0,label:"Name"},number:{type:"tel",name:"number",required:!0,label:"Number"}},C=function(n){var e=n.onSubmit,t=(0,Z.c)({initialState:g,onSubmit:e}),r=t.state,a=t.handleChange,s=t.handleSubmit,o=r.name,c=r.number;return(0,x.jsxs)(i.Z,{component:"form",onSubmit:s,sx:{display:"flex",flexDirection:"column"},children:[(0,x.jsx)(b.Z,(0,v.Z)({pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:o,onChange:a,margin:"normal"},j.name)),(0,x.jsx)(b.Z,(0,v.Z)({pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:c,onChange:a,margin:"normal"},j.number)),(0,x.jsx)(p.Z,{variant:"contained",type:"submit",children:"Add contact"})]})},S=t(493),y=t(4852),w=function(n){var e=n.id,t=n.name,r=n.number,a=n.onDelete;return(0,x.jsxs)(y.ZP,{sx:{display:"flex",justifyContent:"space-between",pt:0},children:[(0,x.jsxs)(u.Z,{children:[t,": ",r]}),(0,x.jsx)(p.Z,{sx:{ml:2},variant:"outlined",onClick:function(){return a(e)},type:"button",children:"Delete"})]})},A=function(n){var e=n.contacts,t=n.onDelete;return(0,x.jsx)(S.Z,{children:e.map((function(n){var e=n.id,r=n.name,a=n.number;return(0,x.jsx)(w,{id:e,name:r,number:a,onDelete:t},e)}))})};A.defaultProps={contacts:[]};var k=A,z=function(n){var e=n.value,t=n.onChange;return(0,x.jsx)(b.Z,{sx:{width:"100%"},label:"Find contacts by name",onChange:t,value:e,type:"text"})},D=t(1391),P=function(n){return n.contacts.items},F=function(n){return n.contacts.isLoading},L=function(n){return n.contacts.error},_=function(n){var e=n.contacts,t=n.filter.toLowerCase();return e.items.filter((function(n){return n.name.toLowerCase().includes(t)}))},N=t(5653),q=function(n){return n.filter},I=function(){var n=(0,c.v9)(P),e=(0,c.v9)(_),t=(0,c.v9)(q),r=(0,c.v9)(F),a=(0,c.v9)(L),i=(0,c.I0)();(0,o.useEffect)((function(){i((0,D.yF)())}),[i]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(u.Z,{variant:"h1",sx:{textAlign:"center",fontSize:"3rem",mb:4},children:"Phonebook"}),(0,x.jsxs)(l.ZP,{container:!0,sx:{flexDirection:{xs:"column",sm:"row"},gap:{xs:6,md:12}},children:[(0,x.jsxs)(l.ZP,{item:!0,xs:!0,children:[(0,x.jsx)(u.Z,{sx:{textAlign:"center",fontSize:"2rem"},variant:"h2",children:"Add Contacts"}),(0,x.jsx)(C,{onSubmit:function(e){var t=e.name;if(n.find((function(n){return n.name===t})))return alert("".concat(t," is already in contacts"));i((0,D.uK)(e))}})]}),(0,x.jsxs)(l.ZP,{item:!0,xs:12,sm:6,sx:{alignSelf:{xs:"center",sm:"auto"}},children:[(0,x.jsx)(u.Z,{sx:{textAlign:"center",fontSize:"2rem",mb:2},variant:"h2",children:"Contacts"}),(0,x.jsx)(z,{value:t,onChange:function(n){return i((0,N.T)(n.target.value))}}),n.length>0&&(0,x.jsx)(k,{contacts:e,onDelete:function(n){i((0,D.GK)(n))}})]})]}),r&&(0,x.jsx)(h.Z,{}),a&&(0,x.jsx)(f,{error:a})]})},K=function(){var n=(0,s.a)(),e=n.isLoggedIn,t=n.isRefreshing;return!e&&!t?(0,x.jsx)(a.Fg,{to:"/login"}):(0,x.jsx)(i.Z,{sx:{height:"100%",pt:15},children:(0,x.jsx)(I,{})})}},158:function(n,e,t){t.d(e,{c:function(){return o}});var r=t(4942),a=t(1413),i=t(9439),s=t(2791),o=function(n){var e=n.initialState,t=n.onSubmit,o=(0,s.useState)((0,a.Z)({},e)),c=(0,i.Z)(o,2),u=c[0],l=c[1],m=(0,s.useCallback)((function(n){var e=n.target,t=e.name,i=e.value;l((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,r.Z)({},t,i))}))}),[]);return{state:u,setState:l,handleChange:m,handleSubmit:function(n){n.preventDefault(),t((0,a.Z)({},u)),l((0,a.Z)({},e))}}}}}]);
//# sourceMappingURL=118.581e2112.chunk.js.map